<app-header-modal titulo="Cadastro de serviço" ocultarConclusao="true" (onCancelar)="cancelar()"></app-header-modal>

<ion-content>
  <ion-grid *ngIf="configuracoes != null">
    <ion-row>
      <ion-col size-xs="12" class="subTitulo fundoLight">
        <ion-icon class="iconeSubTitulo" name="construct"></ion-icon>
        Identificação
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-xs="12" class="separadorCampo">
        <ion-item>
          <ion-label position="floating">Nome do serviço</ion-label>
          <ion-input autocapitalize="on" type="text" [(ngModel)]="servico.Nome"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-xs="12" class="subTitulo fundoLight">
        <ion-icon class="iconeSubTitulo" name="pricetag"></ion-icon>
        Preços
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!configuracoes.Patio.SepararPrecosServico">
      <ion-col size-xs="12">
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoPadrao | decimalInputPipe" (ionInput)="servico.PrecoPadrao=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="configuracoes.Patio.SepararPrecosServico">
      <ion-col size-xs="4" *ngIf="configuracoes.Patio.CampoMotoPequena">
        <div class="divTipoVeiculo">
          <img src='../../../../../assets/img/veiculos/5.png' />
        </div>
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoMotoPequena | decimalInputPipe" (ionInput)="servico.PrecoMotoPequena=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size-xs="4" *ngIf="configuracoes.Patio.CampoMoto">
        <div class="divTipoVeiculo">
          <img src='../../../../../assets/img/veiculos/1.png' />
        </div>
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoMoto | decimalInputPipe" (ionInput)="servico.PrecoMoto=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size-xs="4" *ngIf="configuracoes.Patio.CampoMotoGrande">
        <div class="divTipoVeiculo">
          <img src='../../../../../assets/img/veiculos/6.png' />
        </div>
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoMotoGrande | decimalInputPipe" (ionInput)="servico.PrecoMotoGrande=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size-xs="4" *ngIf="configuracoes.Patio.CampoVeiculoPequeno">
        <div class="divTipoVeiculo">
          <img src='../../../../../assets/img/veiculos/2.png' />
        </div>
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoVeiculoPequeno | decimalInputPipe" (ionInput)="servico.PrecoVeiculoPequeno=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size-xs="4" *ngIf="configuracoes.Patio.CampoVeiculoMedio">
        <div class="divTipoVeiculo">
          <img src='../../../../../assets/img/veiculos/3.png' />
        </div>
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoVeiculoMedio | decimalInputPipe" (ionInput)="servico.PrecoVeiculoMedio=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size-xs="4" *ngIf="configuracoes.Patio.CampoVeiculoGrande">
        <div class="divTipoVeiculo">
          <img src='../../../../../assets/img/veiculos/4.png' />
        </div>
        <ion-item>
          <ion-label position="floating">R$</ion-label>
          <ion-input type="number" [ngModel]="servico.PrecoVeiculoGrande | decimalInputPipe" (ionInput)="servico.PrecoVeiculoGrande=utils.trataCampoNumero($event.target.value)"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col size-xs="12" *ngIf="avaliouFormulario && (servico.Nome == null || servico.Nome.length == 0)" class="subTitulo fundoPerigo">
        <ion-icon class="iconeSubTitulo" name="close-circle"></ion-icon>
        Informe o nome do serviço
      </ion-col>
    </ion-row>
  </ion-grid>
  
  <ion-grid class="ion-no-padding ion-no-margin">
    <ion-row>
      <ion-col>
        <ion-button color="success" expand="block" (click)="concluir()">
          <ion-icon slot="start" name="checkmark-circle"></ion-icon>
          Salvar
        </ion-button>
      </ion-col>
      <ion-col size-xs="2" *ngIf="!inclusao" (click)="concluir('excluir')">
        <ion-button expand="block" color="danger">
          <ion-icon name="trash"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
